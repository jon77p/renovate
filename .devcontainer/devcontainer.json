// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.236.0/containers/ubuntu
{
  "name": "Template",
  "build": {
    "dockerfile": "Dockerfile",
    // Update 'VARIANT' to pick an Ubuntu version: jammy / ubuntu-22.04, focal / ubuntu-20.04, bionic /ubuntu-18.04
    // Use ubuntu-22.04 or ubuntu-18.04 on local arm64/Apple Silicon.
    "args": { "VARIANT": "ubuntu-22.04" }
  },

  // Use 'forwardPorts' to make a list of ports inside the container available locally.
  // "forwardPorts": [],

  "postStartCommand": "task setup",

  // Comment out to connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root.
  "remoteUser": "vscode",
  "features": {
    "ghcr.io/devcontainers/features/git:1@sha256:27905dc196c01f77d6ba8709cb82eeaf330b3b108772e2f02d1cd0d826de1251": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/github-cli:1@sha256:d22f50b70ed75339b4eed1ba9ecde3a1791f90e88d37936517e3bace0bbad671": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/node:1@sha256:e2fe58e98b235779e253224dd6dd78acb7a4de79efd9b9b210b1785846c09170": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/python:1@sha256:fbcad6955caeecc5ad3f7886baf652e25cba5225a6c4c2287c536de2e5607511": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/ruby:1@sha256:1c9bbde293ba6f21449a58be34a358ffa2b3846f31cb3146409b26ab3f13e1a2": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/rust:1@sha256:0c55e65f2e3df736e478f26ee4d5ed41bae6b54dac1318c443e31444c8ed283c": {
      "version": "latest"
    }
  },

  "customizations": {
    "vscode": {
      // VSCode Editor Settings
      "settings": {
        "sync.autoDownload": true,
        "sync.autoUpload": true,
        "telemetry.enableTelemetry": false,
        "redhat.telemetry.enabled": false,
        "debug.javascript.autoAttachFilter": "smart",
        "git.autofetch": true,
        "files.associations": {
          "*.yml": "yaml"
        },
        "yaml.schemas": {
          "https://json.schemastore.org/taskfile.json": "../.github/tasks/**/*.yml"
        },
        "git.confirmSync": true,
        "editor.inlineSuggest.enabled": true,
        "github.copilot.inlineSuggest.enable": true,
        "github.copilot.enable": {
          "*": true,
          "yaml": true,
          "plaintext": false,
          "markdown": false
        }
      }
    }
  }
}
